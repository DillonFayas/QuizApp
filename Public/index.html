<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quizzer</title>
    <script src="client.js"></script>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
</head>
<body class="background">
    <div class="d-flex justify-content-center align-items-center">
        <h1 class="title m-3 mt-2">Quizzer!</h1>
    </div>
    <div id="home" class="row justify-content-center align-items-start">
        <div class="card col-7 mx-2">
            <div class="card-body px-1">
                <h5 class="card-title text">Take a Quiz</h5>
                <h6 class="card-subtitle mb-2 text-muted text">Choose from available quizzes</h6>

                <hr>

                <h5>Category</h5>
                <div class="dropdown mb-3">
                    <select id="categorySelection" class="form-select">
                        <option selected value="-1">Any Category</option>
                    </select>
                </div>

                <h5>Question Count</h5>
                <div class="has-validation mb-3">
                    <input id="questionCount" type="number" class="form-control" placeholder="50" value="10" aria-label="Number of questions">
                    <div id="questionCountFeedback" class="invalid-feedback">
                        Please choose a valid number of questions.
                    </div>
                </div>

                <h5>Difficulty</h5>
                <div id="difficultySelection" class="btn-group mb-3" role="group" aria-label="Difficulty selection">
                    <input type="radio" class="btn-check" name="difficulty" id="difficultyAny" value="any" autocomplete="off" checked>
                    <label class="btn btn-outline-secondary" for="difficultyAny">Any</label>
                    
                    <input type="radio" class="btn-check" name="difficulty" id="difficultyEasy" value="easy" autocomplete="off">
                    <label class="btn btn-outline-success" for="difficultyEasy">Easy</label>
                    
                    <input type="radio" class="btn-check" name="difficulty" id="difficultyMedium" value="medium" autocomplete="off">
                    <label class="btn btn-outline-warning" for="difficultyMedium">Medium</label>

                    <input type="radio" class="btn-check" name="difficulty" id="difficultyHard" value="hard" autocomplete="off">
                    <label class="btn btn-outline-danger" for="difficultyHard">Hard</label>
                </div>

                <div class="d-flex align-items-center mb-1">
                    <h5 class="me-2 mb-0">Type</h5>
                    <button type="button" 
                        class="btn btn-sm btn-outline-dark type-info-popover"
                        data-bs-toggle="popover"
                        title="By the way..."
                        data-bs-content="Selecting multiple choice or true/false may lower the number of questions you get">
                        !
                    </button>
                </div>
                <div id="typeSelection" class="btn-group mb-2" role="group" aria-label="Type selection">
                    <input type="radio" class="btn-check" name="type" id="typeAny" value="any" autocomplete="off" checked>
                    <label class="btn btn-outline-secondary" for="typeAny">Any</label>
                    
                    <input type="radio" class="btn-check" name="type" id="typeMultipleChoice" value="multiple" autocomplete="off">
                    <label class="btn btn-outline-info" for="typeMultipleChoice">Multiple Choice</label>
                    
                    <input type="radio" class="btn-check" name="type" id="typeBoolean" value="boolean" autocomplete="off">
                    <label class="btn btn-outline-primary" for="typeBoolean">True/False</label>
                </div>

                <hr>

                <button id="takeQuizButton" class="btn btn-primary text">Take Quiz</button>
                <div id="takeQuizError" class="alert alert-danger mt-3 visually-hidden" role="alert">
                    Error!
                </div>
            </div>
        </div>
        <div class="card col-3 mx-2">
            <div class="card-body px-1">
                <h5 class="card-title text">Quiz Builder</h5>
                <h6 class="card-subtitle mb-2 text-muted text">Create your own quiz!</h6>
                <p class="card-text text">Build your own quiz and publish it to Quizzer for others to take.</p>
                <button id="buildQuizButton" class="btn btn-success text">Build Quiz</button>
            </div>
        </div>
    </div>
    <div id="quiz" class="row justify-content-center align-items-start visually-hidden mb-3">
        <div class="text d-flex justify-content-center mb-2">
            <span id="timer" class="badge rounded-pill bg-info">Time Spent: 00:00</span>
        </div>
        <div id="quizQuestions" class="col-12 d-flex flex-column align-items-center mb-3"></div>
        <div id="submitQuiz" class="col-12 d-flex justify-content-center">
            <button type="button" class="btn btn-primary">Submit</button>
        </div>
        <div id="submitQuizError" class="alert alert-danger mt-3 visually-hidden" role="alert">
            Error!
        </div>
    </div>
    <div id="results" class="row justify-content-center align-items-start visually-hidden">
        <div class="card col-6 mb-2">
            <div class="card-body px-1">
                <h2 class="card-title text mb-3">Results</h2>

                <h5 class="text">Score:</h5>
                <p class="fs-5">
                    <span id="resultsScore" class="badge bg-success">0 / 0</span>
                </p>

                <h5 class="text">Time Taken:</h5>
                <p class="fs-5">
                    <span id="resultsTime" class="badge bg-info">00:00</span>
                </p>

                <hr>

                <h5 class="text mb-2">Answer Key</h5>
                <div id="answerKeyList"></div>
            </div>
        </div>
        <div class="col-12 d-flex justify-content-center mb-3">
            <button id="backToHome" type="button" class="btn btn-primary">Back to Home</button>
        </div>
    </div>
    <div id="quizBuilder" class="row justify-content-center align-items-start visually-hidden">
        <div class="card col-8 mx-2">
            <div class="card-body px-1">
                <h5 class="card-title text">Quiz Builder</h5>
                <h6 class="card-subtitle mb-2 text-muted text">Create and publish custom quizzes</h6>

                <div class="mb-3">
                    <label for="builderCategory" class="form-label">Quiz Category</label>
                    <input id="builderCategory" class="form-control" placeholder="My Custom Quiz">
                </div>

                <div class="d-flex justify-content-between align-items-center mb-2">
                    <h6 class="mb-0">Questions</h6>
                    <div>
                        <button id="addQuestionButton" class="btn btn-sm btn-outline-primary">Add Question</button>
                        <button id="publishQuizButton" class="btn btn-sm btn-success ms-2">Publish Quiz</button>
                        <button id="cancelBuildButton" class="btn btn-sm btn-secondary ms-2">Cancel</button>
                    </div>
                </div>

                <div id="builderQuestions" class="d-flex flex-column"></div>

                <div id="builderMessage" class="alert mt-3 visually-hidden" role="alert"></div>
            </div>
        </div>
    </div>
</body>
</html>